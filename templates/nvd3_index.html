<!DOCTYPE html>
<html ng-app="plunker" >

  <head>
    <meta charset="utf-8" />
    <title>Angular-nvD3 Line Chart</title>
    <script>document.write('<base href="' + document.location + '" />');</script>
   <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='main.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.1/nv.d3.min.css"/>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.9/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.1/nv.d3.min.js"></script>
    <script src="https://rawgit.com/krispo/angular-nvd3/v1.0.4/dist/angular-nvd3.js"></script>
    <script src="{{ url_for('static', filename='nvd3_app.js') }}"></script>
  </head>

  <body ng-controller="MainCtrl"  ng-init="init({{ courses }})">

  {% raw %}
 <form name="myForm">
   <select ng-options="field.id as field.name for field in fields" ng-model="choice"></select>
  <label for="exampleInput">Pick a date in next 64 hours:</label>
  <div><input type="datetime-local" id="exampleInput" name="input" ng-model="example.value"
      placeholder="yyyy-MM-ddTHH:mm:ss" min="{{example.min | date: 'yyyy-MM-ddTHH:mm:ss' }}" max="{{example.max | date: 'yyyy-MM-ddTHH:mm:ss' }}" required />
</div>
     <div>
     <button ng-click="getResults()" ng-disabled="myForm.$invalid">Get Results</button>
     </div>
</form>

{% endraw %}

<div ng-if="!loading">
      <nvd3 options="options" data="data"></nvd3>

</div>
<div ng-if="loading">
    <img src="{{url_for('static', filename='spinner.gif') }}" alt="spin in">
</div>

  </body>

</html>

